% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prisma.R
\name{as_prisma_counts}
\alias{as_prisma_counts}
\title{Extract PRISMA 2020-Compatible Counts from Download Log}
\usage{
as_prisma_counts(log_file, verbose = TRUE)
}
\arguments{
\item{log_file}{Path to the download log CSV generated by paperfetch,
OR a data frame already loaded into R}

\item{verbose}{Print a formatted summary of counts (default: TRUE)}
}
\value{
A named list with PRISMA 2020 counts:
\itemize{
\item \code{reports_sought_retrieval} — Total records sent for retrieval
\item \code{reports_not_retrieved}    — Records where no PDF was found
\item \code{reports_excluded_invalid} — PDFs downloaded but failed integrity check
\item \code{reports_acquired}         — Valid PDFs successfully retrieved
\item \code{reports_skipped}          — Already existed, not re-downloaded
}
}
\description{
Maps paperfetch download log data to PRISMA 2020 flow diagram categories,
specifically for the "Full-Text Retrieval" phase. Works seamlessly with
the \code{PRISMA2020} R package.
}
\details{
Maps to PRISMA 2020 Section 3 (Identification) as follows:

\tabular{ll}{
\strong{PRISMA 2020 field} \tab \strong{paperfetch source} \cr
Reports sought for retrieval  \tab All rows in log (excl. skipped) \cr
Reports not retrieved         \tab \code{success == FALSE} \cr
Reports excluded (invalid)    \tab \code{pdf_valid == FALSE} \cr
Reports acquired              \tab \code{success == TRUE & pdf_valid == TRUE} \cr
}
}
\examples{
\dontrun{
# After fetching PDFs
fetch_pdfs("dois.csv", email = "you@edu", log_file = "download_log.csv")

# Extract PRISMA counts
prisma_stats <- as_prisma_counts("download_log.csv")

# Use with PRISMA2020 package
if (requireNamespace("PRISMA2020", quietly = TRUE)) {
  plot_prisma_fulltext(prisma_stats)
}
}
}
