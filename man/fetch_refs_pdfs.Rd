% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/import_refs.R
\name{fetch_refs_pdfs}
\alias{fetch_refs_pdfs}
\title{Fetch PDFs from an Imported Reference Data Frame}
\usage{
fetch_refs_pdfs(
  refs,
  id_col = NULL,
  output_folder = "downloads",
  delay = 2,
  email = NULL,
  timeout = 15,
  log_file = "download_log.csv",
  report_file = "acquisition_report.md",
  validate_pdfs = TRUE,
  remove_invalid = TRUE,
  proxy = NULL
)
}
\arguments{
\item{refs}{Data frame of references (from \code{import_refs()})}

\item{id_col}{Column to use for fetching: \code{"doi"} or \code{"pmid"}
(auto-detected if not specified)}

\item{output_folder}{Directory for saving PDFs (default: "downloads")}

\item{delay}{Seconds between requests (default: 2)}

\item{email}{Your email for Unpaywall API. Can be set via
\code{PAPERFETCH_EMAIL} in \code{.Renviron}}

\item{timeout}{Maximum seconds per request (default: 15)}

\item{log_file}{Path for structured CSV log (default: "download_log.csv")}

\item{report_file}{Path for Markdown report (default: "acquisition_report.md")}

\item{validate_pdfs}{Validate downloaded files (default: TRUE)}

\item{remove_invalid}{Remove invalid files (default: TRUE)}

\item{proxy}{Proxy URL or NULL (default: NULL)}
}
\value{
Invisibly returns the download log data frame
}
\description{
Convenience wrapper that takes a reference data frame (from
\code{import_refs()} or any data frame with a \code{doi} or
\code{pmid} column) and fetches PDFs directly. Designed for
pipe-friendly workflows.
}
\examples{
\dontrun{
# Pipe-friendly workflow
import_refs(c("wos_export.bib", "scopus_export.ris")) |>
  fetch_refs_pdfs(email = "you@institution.edu")

# With custom options
refs <- import_refs(c("wos_export.bib", "scopus_export.ris"))
fetch_refs_pdfs(
  refs          = refs,
  output_folder = "systematic_review/pdfs",
  log_file      = "systematic_review/logs/download_log.csv",
  report_file   = "systematic_review/logs/acquisition_report.md",
  email         = "you@institution.edu"
)
}
}
